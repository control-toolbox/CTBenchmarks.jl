# Core benchmark

```@setup BENCH
include(joinpath(@__DIR__, "assets", "utils.jl"))

# Load both benchmark datasets
const BENCH_DIR_UBUNTU = "benchmark-core-ubuntu-latest"
const BENCH_DIR_MOONSHOT = "benchmark-core-moonshot"
const BENCH_DATA_UBUNTU = _read_benchmark_json(joinpath(@__DIR__, "assets", BENCH_DIR_UBUNTU, "data.json"))
const BENCH_DATA_MOONSHOT = _read_benchmark_json(joinpath(@__DIR__, "assets", BENCH_DIR_MOONSHOT, "data.json"))
```

## Ubuntu Latest

This benchmark suite evaluates 14 optimal control problems on a standard CPU platform using GitHub Actions runners.

**Benchmark Configuration:**

- **Solvers:** Ipopt and MadNLP
- **Models:** JuMP, ADNLPModels, ExaModels (CPU)
- **Grid sizes:** 200, 500, 1000 discretisation points
- **Discretisation:** Trapeze method
- **Tolerance:** 1e-6
- **Ipopt strategy:** Adaptive barrier parameter
- **Limits:** 1000 iterations max, 500s wall time

This configuration focuses on CPU-based solvers and provides a comprehensive comparison across different modelling frameworks.

### üñ•Ô∏è Environment

<!-- INCLUDE_ENVIRONMENT:
BENCH_DATA = BENCH_DATA_UBUNTU
BENCH_DIR = BENCH_DIR_UBUNTU
ENV_NAME = BENCH
-->

### üìä Results

```@example BENCH
_print_results(BENCH_DATA_UBUNTU) # hide
nothing # hide
```

## Moonshot

This benchmark suite evaluates 14 optimal control problems on GPU-accelerated hardware, focusing on large-scale problems.

**Benchmark Configuration:**

- **Solver:** MadNLP (GPU-optimised)
- **Models:** ExaModels (CPU), ExaModels (GPU)
- **Grid sizes:** 1000, 5000, 10000 discretisation points
- **Discretisation:** Trapeze method
- **Tolerance:** 1e-6
- **Limits:** 1000 iterations max, 1000s wall time

This configuration demonstrates GPU acceleration capabilities with ExaModels on large-scale problems, comparing CPU vs GPU performance for the same modelling framework.

### üöÄ Environment

<!-- INCLUDE_ENVIRONMENT:
BENCH_DATA = BENCH_DATA_MOONSHOT
BENCH_DIR = BENCH_DIR_MOONSHOT
ENV_NAME = BENCH
-->

### ‚ö° Results

```@example BENCH
_print_results(BENCH_DATA_MOONSHOT) # hide
nothing # hide
```
